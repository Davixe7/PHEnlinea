(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{1025:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"residents-dialog"}},[e("q-card",{staticStyle:{"max-width":"320px"}},[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Consultar apartamento")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",[e("q-select",{staticStyle:{"margin-bottom":"20px"},attrs:{outlined:"",label:"Apartamento","use-input":"","map-options":"","option-label":"name","input-debounce":"0",options:t.results},on:{filter:t.filterFn},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"meeting_room"}})]},proxy:!0},{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:t.apartment,callback:function(e){t.apartment=e},expression:"apartment"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-dark text-white",staticStyle:{width:"100%"},attrs:{disabled:!t.apartment,loading:t.loading},on:{click:t.setApartment}},[t._v("\n        Consultar\n      ")])],1)],1)],1)},n=[],r=(a("c975"),a("ddb0"),a("ded3")),i=a.n(r),o={name:"ResidentsDialog",computed:{results(){return""===this.query?[...this.apartments]:this.apartments.filter((t=>t.name.toLowerCase().includes(this.query)))},apartments(){return this.$store.state.apartments.apartments}},data(){return{query:"",apartment:null,loading:!1,apartmentExists:!0,error:!1}},methods:{filterFn(t,e){this.query=t.toLowerCase(),e((()=>{this.options=this.results}))},setApartment(){this.apartment=i()(i()({},this.apartment),{},{index:this.apartments.indexOf(this.apartment)}),this.$store.dispatch("setApartment",this.apartment).then((t=>{"apartments"!=this.$route.name&&this.$router.push({name:"apartments"})}))}},mounted(){this.$store.dispatch("fetchApartments").then((t=>{}))}},l=o,c=a("2877"),d=a("f09f"),m=a("a370"),p=a("2c91"),u=a("9c40"),h=a("ddd8"),q=a("0016"),f=a("66e5"),b=a("4074"),v=a("7f67"),_=a("eebe"),g=a.n(_),C=Object(c["a"])(l,s,n,!1,null,"fb9ff9fe",null);e["a"]=C.exports;g()(C,"components",{QCard:d["a"],QCardSection:m["a"],QSpace:p["a"],QBtn:u["a"],QSelect:h["a"],QIcon:q["a"],QItem:f["a"],QItemSection:b["a"]}),g()(C,"directives",{ClosePopup:v["a"]})},d104:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"apartment-detail"}},[e("q-card",{attrs:{flat:"",bordered:""}},[e("q-card-section",{staticStyle:{display:"flex"}},[e("div",{staticClass:"text-h5 q-px-md"},[e("b",[t._v("Apartamento "+t._s(t.apartment.name))])]),e("div",{staticClass:"q-ml-auto"},[e("q-btn",{attrs:{large:"",dark:"",color:"black"},on:{click:function(e){t.dialog=!0}}},[t._v("\n          Buscar otro apartamento\n        ")])],1)]),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-4 q-px-md"},[e("q-card",{attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"q-pa-none"},[e("q-list",{attrs:{separator:""}},[e("q-item",{staticClass:"q-py-lg"},[e("q-item-section",[e("b",[t._v("Parqueaderos")])]),e("q-item-section",{attrs:{avatar:""}},[t._v("\n                    "+t._s(t.apartment.parking_numbers_str)+"\n                  ")])],1),e("q-item",{staticClass:"q-py-lg"},[e("q-item-section",[e("b",[t._v("Cuarto útil")])]),e("q-item-section",{attrs:{avatar:""}},[t._v("\n                    "+t._s(t.apartment.has_deposit?"Sí":"No")+"\n                  ")])],1),e("q-item",{staticClass:"q-py-lg"},[e("q-item-section",[e("b",[t._v("Número de mascotas")])]),e("q-item-section",{attrs:{avatar:""}},[t._v("\n                    "+t._s(t.apartment.pets_count)+"\n                  ")])],1),e("q-item",{staticClass:"q-py-lg"},[e("q-item-section",[e("b",[t._v("Placas")])]),e("q-item-section",{attrs:{avatar:""}},[t._v("\n                    "+t._s(t.apartment.plates)+"\n                  ")])],1)],1)],1)],1)],1),e("div",{staticClass:"col-12 col-md-7 offset-md-1 q-px-md"},[e("q-table",{staticClass:"q-mb-md",attrs:{flat:"",bordered:"",title:"Residentes",columns:t.columns,data:t.residents,filter:t.search,"hide-bottom":""},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]},proxy:!0}])}),e("q-table",{attrs:{flat:"",bordered:"",title:"Autorizados",columns:t.columns_b,data:t.authorized,filter:t.search,"hide-bottom":""}})],1)])])],1),e("q-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("apartments-dialog")],1)],1)},n=[],r=(a("a434"),a("ddb0"),a("1025")),i={components:{ApartmentsDialog:r["a"]},computed:{authorized(){return this.residents.length?this.residents.filter((t=>t.is_authorized)):[]},residents(){return this.apartment?[...this.apartment.residents]:[]},apartment(){return this.$store.state.apartments.apartment},columns_b(){let t=[...this.columns];return t.splice(1,0,{name:"dni",field:"dni",required:!1,label:"Cédula",align:"left"}),t}},data(){return{dialog:!1,name:"ApartmentDetails",search:"",columns:[{name:"name",field:"name",required:!0,label:"Nombre",align:"left"},{name:"age",field:"age",required:!0,label:"Edad",align:"left"},{name:"is_owner",field:t=>t.is_owner?"SÍ":"NO",required:!0,label:"Propietario",align:"right"},{name:"is_resident",field:t=>t.is_resident?"SÍ":"NO",required:!0,label:"Residente",align:"right"}]}}},o=i,l=a("2877"),c=a("f09f"),d=a("a370"),m=a("9c40"),p=a("1c1c"),u=a("66e5"),h=a("4074"),q=a("eaac"),f=a("27f9"),b=a("0016"),v=a("24e8"),_=a("eebe"),g=a.n(_),C=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=C.exports;g()(C,"components",{QCard:c["a"],QCardSection:d["a"],QBtn:m["a"],QList:p["a"],QItem:u["a"],QItemSection:h["a"],QTable:q["a"],QInput:f["a"],QIcon:b["a"],QDialog:v["a"]})}}]);