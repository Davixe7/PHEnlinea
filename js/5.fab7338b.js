(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{1025:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"residents-dialog"}},[e("q-card",{staticStyle:{"max-width":"320px"}},[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Consultar apartamento")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",[e("q-select",{staticStyle:{"margin-bottom":"20px"},attrs:{outlined:"",label:"Apartamento","use-input":"","map-options":"","option-label":"name","input-debounce":"0",options:t.results},on:{filter:t.filterFn},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"meeting_room"}})]},proxy:!0},{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:t.apartment,callback:function(e){t.apartment=e},expression:"apartment"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-dark text-white",staticStyle:{width:"100%"},attrs:{disabled:!t.apartment,loading:t.loading},on:{click:t.setApartment}},[t._v("\n        Consultar\n      ")])],1)],1)],1)},n=[],i=(a("c975"),a("ddb0"),a("ded3")),r=a.n(i),o={name:"ResidentsDialog",computed:{results(){return""===this.query?[...this.apartments]:this.apartments.filter((t=>t.name.toLowerCase().includes(this.query)))},apartments(){return this.$store.state.apartments.apartments}},data(){return{query:"",apartment:null,loading:!1,apartmentExists:!0,error:!1}},methods:{filterFn(t,e){this.query=t.toLowerCase(),e((()=>{this.options=this.results}))},setApartment(){this.apartment=r()(r()({},this.apartment),{},{index:this.apartments.indexOf(this.apartment)}),this.$store.dispatch("setApartment",this.apartment).then((t=>{"apartments"!=this.$route.name&&this.$router.push({name:"apartments"})}))}},mounted(){this.$store.dispatch("fetchApartments").then((t=>{}))}},c=o,l=a("2877"),d=a("f09f"),p=a("a370"),m=a("2c91"),u=a("9c40"),h=a("ddd8"),f=a("0016"),v=a("66e5"),g=a("4074"),q=a("7f67"),x=a("eebe"),y=a.n(x),C=Object(l["a"])(c,s,n,!1,null,"fb9ff9fe",null);e["a"]=C.exports;y()(C,"components",{QCard:d["a"],QCardSection:p["a"],QSpace:m["a"],QBtn:u["a"],QSelect:h["a"],QIcon:f["a"],QItem:v["a"],QItemSection:g["a"]}),y()(C,"directives",{ClosePopup:q["a"]})},"8d15":function(t,e,a){"use strict";a("f500")},bc13:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"column justify-center",attrs:{id:"home"}},[e("div",{staticClass:"home-page-title text-h5 text-center"},[t._v("\n    Elija una opción\n  ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-pa-md"},[e("q-card",{staticClass:"q-pa-md home-feature",attrs:{flat:"",bordered:""}},[e("div",{staticClass:"q-card-section"},[e("router-link",{attrs:{to:{name:"visits"}}},[e("div",{staticClass:"feature-icon text-primary"},[e("q-icon",{attrs:{name:"transfer_within_a_station"}}),e("div",{staticClass:"text-h6"},[t._v("Visitas")])],1)])],1)])],1),e("div",{staticClass:"col q-pa-md"},[e("q-card",{staticClass:"q-pa-md home-feature",attrs:{flat:"",bordered:""},on:{click:function(e){t.apartmentsDialog=!0}}},[e("div",{staticClass:"q-card-section"},[e("div",{staticClass:"feature-icon text-primary"},[e("q-icon",{attrs:{name:"meeting_room"}}),e("div",{staticClass:"text-h6"},[t._v("Apartamentos")])],1)])])],1),e("div",{staticClass:"col q-pa-md"},[e("q-card",{staticClass:"q-pa-md home-feature",attrs:{flat:"",bordered:""}},[e("router-link",{attrs:{to:{name:"reports"}}},[e("div",{staticClass:"q-card-section"},[e("div",{staticClass:"feature-icon text-primary"},[e("q-icon",{attrs:{name:"support_agent"}}),e("div",{staticClass:"text-h6"},[t._v("Novedades")])],1)])])],1)],1),e("div",{staticClass:"col q-pa-md"},[e("q-card",{staticClass:"q-pa-md home-feature",attrs:{flat:"",bordered:""},on:{click:function(e){t.apartmentPlatesDialog=!0}}},[e("div",{staticClass:"q-card-section"},[e("div",{staticClass:"feature-icon text-primary"},[e("q-icon",{attrs:{name:"directions_car"}}),e("div",{staticClass:"text-h6"},[t._v("Placas")])],1)])])],1),e("div",{staticClass:"col q-pa-md"},[e("q-card",{staticClass:"q-pa-md home-feature",attrs:{flat:"",bordered:""},on:{click:function(e){t.smsDialog=!0}}},[e("div",{staticClass:"q-card-section"},[e("div",{staticClass:"feature-icon text-primary"},[e("q-icon",{attrs:{name:"sms"}}),e("div",{staticClass:"text-h6"},[t._v("Notificaciones")])],1)])])],1)]),e("q-dialog",{model:{value:t.apartmentsDialog,callback:function(e){t.apartmentsDialog=e},expression:"apartmentsDialog"}},[e("apartments-dialog")],1),e("q-dialog",{model:{value:t.apartmentPlatesDialog,callback:function(e){t.apartmentPlatesDialog=e},expression:"apartmentPlatesDialog"}},[e("apartment-plates-dialog")],1),e("q-dialog",{model:{value:t.smsDialog,callback:function(e){t.smsDialog=e},expression:"smsDialog"}},[e("sms-dialog")],1)],1)},n=[],i=a("1025"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"residents-dialog"}},[e("q-card",{staticStyle:{"max-width":"320px"}},[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Consultar por placa")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",[e("q-select",{staticStyle:{"margin-bottom":"20px"},attrs:{outlined:"",label:"Apartamento","use-input":"","map-options":"","option-label":"mixed","input-debounce":"0",options:t.results},on:{filter:t.filterFn},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"meeting_room"}})]},proxy:!0},{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:t.apartment,callback:function(e){t.apartment=e},expression:"apartment"}})],1)],1)],1)},o=[],c=(a("c975"),a("ddb0"),a("ded3")),l=a.n(c),d={name:"ApartmentPlatesDialog",computed:{results(){return""===this.query?[...this.mixed]:this.mixed.filter((t=>t.mixed.toLowerCase().includes(this.query)))},mixed(){return this.apartments.filter((t=>""!=t.plates)).map((t=>l()(l()({},t),{},{mixed:`${t.name} ${t.plates}`})))},apartments(){return this.$store.getters.apartments}},data(){return{query:"",apartment:null,loading:!1}},methods:{filterFn(t,e){this.query=t.toLowerCase(),e((()=>{this.options=this.results}))},setApartment(){this.apartment=l()(l()({},this.apartment),{},{index:this.apartments.indexOf(this.apartment)}),this.$store.dispatch("setApartment",this.apartment).then((t=>{"apartments"!=this.$route.name&&this.$router.push({name:"apartments"})}))}},mounted(){this.$store.dispatch("fetchApartments").then((t=>{}))}},p=d,m=a("2877"),u=a("f09f"),h=a("a370"),f=a("2c91"),v=a("9c40"),g=a("ddd8"),q=a("0016"),x=a("66e5"),y=a("4074"),C=a("7f67"),b=a("eebe"),_=a.n(b),w=Object(m["a"])(p,r,o,!1,null,"b0150136",null),S=w.exports;_()(w,"components",{QCard:u["a"],QCardSection:h["a"],QSpace:f["a"],QBtn:v["a"],QSelect:g["a"],QIcon:q["a"],QItem:x["a"],QItemSection:y["a"]}),_()(w,"directives",{ClosePopup:C["a"]});var Q=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"residents-dialog"}},[e("q-card",{staticStyle:{"max-width":"420px"}},[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("\n        Notificar encomienda\n      ")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",[t.errorMessage||t.successMessage?e("q-card",{staticClass:"q-mb-md",class:{"bg-red-6":t.errorMessage,"bg-green-6":t.successMessage},attrs:{flat:"",bordered:"",dark:""}},[e("q-card-section",{staticStyle:{display:"flex","flex-flow":"row nowrap"}},[e("q-icon",{staticStyle:{color:"rgba(0,0,0,.5)","font-size":"2em","margin-right":"15px"},attrs:{name:"info"}}),e("div",[t._v("\n            "+t._s(t.errorMessage?t.errorMessage:t.successMessage)+"\n          ")])],1)],1):t._e(),"delivery"==t.type?e("q-select",{staticStyle:{"margin-bottom":"20px"},attrs:{outlined:"",label:"Apartamento","use-input":"","map-options":"","option-label":"name","input-debounce":"0",options:t.results},on:{filter:t.filterFn},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"meeting_room"}})]},proxy:!0},{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n              No results\n            ")])],1)]},proxy:!0}],null,!1,155416595),model:{value:t.apartment,callback:function(e){t.apartment=e},expression:"apartment"}}):t._e(),e("q-btn",{staticClass:"bg-dark text-white",staticStyle:{width:"100%"},attrs:{disabled:"delivery"==t.type&&!t.apartment,loading:t.loading},on:{click:t.sendSMS}},[t._v("\n        Enviar\n      ")])],1)],1)],1)},k=[],D=a("bc3a"),M=a.n(D),A={name:"ResidentsDialog",computed:{results(){return""===this.query?[...this.apartments]:this.apartments.filter((t=>t.name.toLowerCase().includes(this.query)))},apartments(){return this.$store.state.apartments.apartments}},data(){return{query:"",apartment:null,loading:!1,apartmentExists:!0,error:!1,type:"delivery",errorMessage:"",sucessMessage:""}},methods:{filterFn(t,e){this.query=t.toLowerCase(),e((()=>{this.options=this.results}))},sendSMS(){if(!window.confirm("¿Seguro que desea enviar el SMS?"))return;this.errorMessage="",this.successMessage="",this.loading=!0;let t="https://phenlinea.com/api/",e="delivery"==this.type?"notifyDelivery":"notifyGlobal",a=t+e,s={type:this.type,name:this.apartment?this.apartment.name:null},n={authorization:"Bearer "+this.$store.state.auth.user.api_token};M.a.post(a,s,{headers:n}).then((t=>{this.loading=!1,this.successMessage="Mensaje enviado exitosamente"})).catch((t=>{console.log(t)})).then((t=>{this.loading=!1}))}},mounted(){this.$store.dispatch("fetchApartments").then((t=>{}))}},$=A,P=Object(m["a"])($,Q,k,!1,null,null,null),N=P.exports;_()(P,"components",{QCard:u["a"],QCardSection:h["a"],QSpace:f["a"],QBtn:v["a"],QIcon:q["a"],QSelect:g["a"],QItem:x["a"],QItemSection:y["a"]}),_()(P,"directives",{ClosePopup:C["a"]});var I={components:{ApartmentsDialog:i["a"],ApartmentPlatesDialog:S,SmsDialog:N},name:"Home",data(){return{loading:!1,apartmentsDialog:!1,apartmentPlatesDialog:!1,smsDialog:!1,features:[{name:"Visitantes",icon:"transfer_within_a_station",text:"Registra todas las entradas y salidas de visitantes a la unidad facilmente"},{name:"Residentes",icon:"meeting_room",text:"Consulta la información de cualquier apartamento cuando sea necesario"},{name:"Placas",icon:"directions_car",text:"Recibe y envía novedades a la administración rápido y fácil"},{name:"Novedades",icon:"support_agent",text:"Recibe y envía novedades a la administración rápido y fácil"}]}}},j=I,F=(a("8d15"),a("24e8")),L=Object(m["a"])(j,s,n,!1,null,"c2734b50",null);e["default"]=L.exports;_()(L,"components",{QCard:u["a"],QCardSection:h["a"],QIcon:q["a"],QDialog:F["a"]})},f500:function(t,e,a){}}]);